<!DOCTYPE html>
<html lang="en" ng-app="jsonGiant">
<head>
    <meta charset="UTF-8">
    <title>JSON Giant</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="../node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>

    <link href="../node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet"/>

    <!--<link href="../node_modules/bootstrap/dist/css/bootstrap" rel="stylesheet"/>-->

    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="../node_modules/jquery/dist/jquery.slim.min.js"></script>
    <script src="../node_modules/tether/dist/js/tether.min.js"></script>
    <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="globalizeLibs.js"></script>

    <script src="../node_modules/angular/angular.js"></script>
    <script src="../node_modules/lodash/lodash.js"></script>
    <script src="json-giant.js"></script>
    <script src="components/json-tree.js"></script>


    <link href="css/json-tree.css" rel="stylesheet"/>

    <style>
        body {
            padding-top: 48px;
            padding-bottom: 48px;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        div.page-content {
            height: 100%;
            width: 100%;
        }

        div.view {
            overflow: scroll;
            height: 100%;
        }

        div.pane-right {
            width: 300px;
            min-width: 300px;
        }

        /* ensure body is not behind the navbar
          </style>
</head>
<body ng-controller="defaultCtrl" ng-cloak>

<nav class="navbar navbar-light fixed-top bg-inverse">


    <div class="row">
        <div class="input-group input-group-sm col-2">
            <div class="input-group-btn">
                <button type="button" class="btn btn-secondary btn-sm fa fa-files-o" ng-click="copyToClipboard()"
                        data-toggle="tooltip" title="Copy to clipboard">
                </button>
            </div>
            <div class="input-group-btn">
                <button type="button" class="btn btn-secondary btn-sm fa fa-paste" ng-click="pasteFromClipboard()"
                        data-toggle="tooltip" title="Load from clipboard">
                </button>
            </div>
            <div class="input-group-btn">
                <button type="button" class="btn btn-secondary btn-sm fa fa-folder-o" ng-click="openFile()"
                        data-toggle="tooltip"
                        title="Open file">
                </button>
            </div>
            <div class="input-group-btn">
                <button type="button" class="btn btn-secondary btn-sm fa fa-floppy-o" ng-click="saveFile()"
                        data-toggle="tooltip"
                        title="Save to file">
                </button>
            </div>
        </div>
        <div class="input-group input-group-sm col-10">
            <span class="input-group-addon  form-control-label">Filter Path</span>
            <input type="text" class="form-control " ng-model="jsonFilter"
                   ng-keyup="jsonFilterKeyPress($event, jsonFilter)"/>
            <div class="input-group-btn">
                <button class="btn btn-secondary btn-sm" type="button"
                        ng-click="filterChanged(jsonFilter)">Apply
                </button>
            </div>
            <div class="input-group-btn">
                <button class="btn btn-secondary btn-sm fa fa-trash-o" type="button"
                        ng-click="clearFilter()"></button>
            </div>
        </div>
    </div>

</nav>

<!--<div class="d-flex flex-row align-items-stretch justify-content-between page-content">-->
    <!--<div class="row">-->
        <div class="container-fluid view">
                <div class="col-12">
                    <json-tree json-content="data" max-nodes="200" json-filter="activeJSONFilter"
                               on-error="onSyntaxError($event)"
                               on-node-mouse-over="onNodeMouseOver($event)"
                               on-node-click="onNodeMouseClick($event)"
                               on-created="onTreeCreated($event)"
                               selected-path="getSelectedPath()"></json-tree>
                </div>
        </div>
    </div>

    <!--<div class="pane-right bg-faded ">-->
    <!--</div>-->
<!--</div>-->


<nav class="navbar bg-inverse fixed-bottom">

    <div class="input-group input-group-sm">
        <span class="input-group-addon input-group-sm">Selected Node</span>
        <input type="text" class="form-control" value="{{selectedText()}}" readonly/>
        <div class="input-group-btn">
            <button class="btn btn-secondary btn-sm fa fa-copy" type="button"
                    ng-class="{active : !selectedNode}"
                    ng-click="copySelectedNode()" title="Copy selected node"></button>
        </div>
        <div class="input-group-btn">
            <button class="btn btn-secondary btn-sm fa fa-map-pin" type="button"
                    ng-class="{active : !selectedNode}"
                    ng-click="copySelectedPath()" title="Copy selected path"></button>
        </div>
        <div class="input-group-btn">
            <button class="btn btn-secondary btn-sm fa fa-trash-o" type="button"
                    ng-class="{active : !selectedNode}"
                    ng-click="deleteSelectedNode()" title="Delete selected node"></button>
        </div>
    </div>

</nav>
</body>
</html>